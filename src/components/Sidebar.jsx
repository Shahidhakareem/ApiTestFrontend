// src/Sidebar.jsx
import React, { useState } from "react";
import { useNavigate } from "react-router-dom";

const Sidebar = ({ onSelectSection }) => {
  const [active, setActive] = useState("Collections");
  const navigate = useNavigate();
  const navItems = [
    {
      name: "Collections",
      icon: (
        <svg
          // Use Tailwind classes for width and height (e.g., w-12 h-12 is 3rem/48px)
          className="w-6 h-6 text-white "
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          // Set the viewbox based on the original width/height and the transform
          // The original was 50x50, but the transform moves it by (44, 4)
          viewBox="0 0 50 50"
        >
          <path
            d="M0 0 C2.94566039 2.94566039 2.40192098 6.15572862 2.4765625 10.11328125 C2.50077774 11.32312935 2.50077774 11.32312935 2.52548218 12.55741882 C2.55316181 14.26630049 2.57460719 15.97529269 2.59033203 17.68432617 C2.62475131 20.29364664 2.71247568 22.89788511 2.80078125 25.50585938 C3.02795882 37.62849436 3.02795882 37.62849436 0.31542969 41.24755859 C-1.81451274 42.62189036 -3.54926553 43.38180943 -6 44 C-6.66483398 44.18884766 -7.32966797 44.37769531 -8.01464844 44.57226562 C-17.5810902 46.63330915 -29.5554099 46.16477162 -38 41 C-40.94566039 38.05433961 -40.40192098 34.84427138 -40.4765625 30.88671875 C-40.49270599 30.08015335 -40.50884949 29.27358795 -40.52548218 28.44258118 C-40.55316181 26.73369951 -40.57460719 25.02470731 -40.59033203 23.31567383 C-40.62475131 20.70635336 -40.71247568 18.10211489 -40.80078125 15.49414062 C-41.02795882 3.37150564 -41.02795882 3.37150564 -38.31542969 -0.24755859 C-36.18548726 -1.62189036 -34.45073447 -2.38180943 -32 -3 C-31.33516602 -3.18884766 -30.67033203 -3.37769531 -29.98535156 -3.57226562 C-20.4189098 -5.63330915 -8.4445901 -5.16477162 0 0 Z M-36 3 C-37.12815365 5.6147267 -37.12815365 5.6147267 -37 8 C-28.65635153 13.87847961 -20.89426652 13.5681856 -11 13 C-6.99625853 12.12666262 -3.95011695 10.95011695 -1 8 C-0.93453102 5.48952515 -0.93453102 5.48952515 -2 3 C-10.5839625 -3.49597162 -27.50900949 -3.54513852 -36 3 Z M-38 12 C-37.9688059 14.86734521 -37.9688059 14.86734521 -37 18 C-29.30469629 24.32724972 -20.4535899 23.52467892 -11 23 C-6.95136118 22.21002169 -4.01582934 20.98408468 -1 18.0625 C0.290849 15.78214728 0.290849 15.78214728 0 12 C-0.76957031 12.32484375 -0.76957031 12.32484375 -1.5546875 12.65625 C-12.88481673 16.77629699 -26.86010876 16.70226565 -38 12 Z M-38 22 C-37.9688059 24.86734521 -37.9688059 24.86734521 -37 28 C-29.30469629 34.32724972 -20.4535899 33.52467892 -11 33 C-6.95136118 32.21002169 -4.01582934 30.98408468 -1 28.0625 C0.290849 25.78214728 0.290849 25.78214728 0 22 C-0.76957031 22.32484375 -0.76957031 22.32484375 -1.5546875 22.65625 C-12.88481673 26.77629699 -26.86010876 26.70226565 -38 22 Z M-38 32 C-37.42293038 36.28057407 -37.42293038 36.28057407 -34.1875 39.25 C-26.72833155 43.34522974 -16.51925426 43.07692766 -8.27734375 41.46875 C-4.48362692 40.16399505 -1.81737265 38.63474531 0 35 C0 34.01 0 33.02 0 32 C-0.76957031 32.32484375 -0.76957031 32.32484375 -1.5546875 32.65625 C-12.88481673 36.77629699 -26.86010876 36.70226565 -38 32 Z "
            // Use the prop for dynamic fill color, which supports Tailwind classes like 'text-red-500'
            fill="white"
            transform="translate(44,4)"
          />
        </svg>
      ),
    },
    {
      name: "Environments",
      icon: (
        <svg
          // Use the passed className for sizing (w-*, h-*) and color (text-*)
          className="w-6 h-6 text-white "
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          width="50"
          height="50"
          // The viewBox should encompass the drawing area. We base it on the original size.
          // Adjusting based on the transform ensures the visible part is within the 50x50 frame.
          viewBox="0 0 50 50"
        >
          <path
            d="M0 0 C5.56340585 3.36669624 9.53349183 8.25193794 11.5 14.4375 C12.30594257 22.2813829 12.59671889 30.02934467 7.5 36.4375 C3.04867668 41.14197914 -1.19064516 44.09747071 -7.76953125 44.7734375 C-16.04371997 44.8646634 -22.08428015 44.61560264 -28.2421875 38.7890625 C-34.17397269 32.28964236 -34.96296445 26.57688134 -34.80859375 17.88671875 C-34.22339005 11.3457711 -31.85547257 7.43687235 -27.0625 3.0625 C-19.84507341 -2.93248543 -8.52200107 -3.84066973 0 0 Z M-27.875 9 C-32.43649379 14.47623185 -32.12226676 20.59256568 -31.5 27.4375 C-29.77883043 33.09869631 -25.25380196 37.15064853 -20.5 40.4375 C-15.11727861 42.23174046 -8.51332536 42.58758584 -3.15625 40.54296875 C-1.05676694 39.36920821 -1.05676694 39.36920821 1.5 37.4375 C0.18 35.7875 -1.14 34.1375 -2.5 32.4375 C-3.05816406 32.59734375 -3.61632812 32.7571875 -4.19140625 32.921875 C-9.33180493 34.06998435 -14.61796691 34.22168045 -19.5 32.1875 C-22.25938792 29.77303557 -23.34389902 27.68428056 -23.80078125 24.03515625 C-23.84307759 14.88504876 -23.84307759 14.88504876 -20.5 11.4375 C-17.86140448 10.15723472 -15.31765426 9.31513002 -12.5 8.4375 C-12.5 6.1275 -12.5 3.8175 -12.5 1.4375 C-19.10696281 0.63665602 -23.73199466 4.3105551 -27.875 9 Z M-10.5 1.4375 C-10.5 3.7475 -10.5 6.0575 -10.5 8.4375 C-9.241875 8.829375 -7.98375 9.22125 -6.6875 9.625 C-3.93815131 10.68581064 -2.58430719 11.35055821 -0.5 13.5 C1.37378733 19.00425027 1.09324648 24.87398607 -0.5 30.4375 C1.975 32.4175 1.975 32.4175 4.5 34.4375 C8.92350165 28.35518523 9.63620811 22.86731302 8.5 15.4375 C6.33350412 9.8322681 2.49109851 5.66703433 -2.5 2.4375 C-5.23251954 1.77537049 -7.67044927 1.58385607 -10.5 1.4375 Z M-20.5 15.4375 C-22.10086627 18.63923254 -21.99917089 21.96327059 -21.5 25.4375 C-19.70636089 28.2475346 -18.48119065 29.94690468 -15.5 31.4375 C-9.68654053 31.97115513 -9.68654053 31.97115513 -4.5625 29.5625 C-1.40304642 26.3073054 -1.16578757 24.01336762 -1.20703125 19.4765625 C-1.66254967 16.30615433 -3.25315657 14.6182598 -5.5 12.4375 C-11.21872108 9.57813946 -16.27770087 11.08725241 -20.5 15.4375 Z "
            // 'currentColor' allows the 'text-*' utility from Tailwind to define the fill color.
            fill="white"
            // Maintain the original translation transform
            transform="translate(36.5,3.5625)"
          />
        </svg>
      ),
    },
    { name: "History", icon: "ðŸ•’" },
  ];

  const handleClick = (name) => {
    setActive(name);
    onSelectSection(name); // Send selected section to parent
  };
  const handleHome = () => {
    navigate("/login");
  };

  return (
    <div className="w-40 flex flex-col p-3 bg-black text-white border-r border-gray-700 select-none">
      {/* Small top links */}
      <div className="mb-6 text-gray-300 space-y-3 text-sm">
        <div className="cursor-pointer hover:text-white" onClick={handleHome}>
          Home
        </div>
      </div>

      {/* Features */}
      <div className="space-y-4">
        {navItems.map((item) => (
          <div
            key={item.name}
            onClick={() => handleClick(item.name)}
            className={`flex flex-col items-center p-2 rounded cursor-pointer transition-all 
              ${
                active === item.name
                  ? "bg-indigo-500 text-white shadow-md"
                  : "text-gray-300 hover:bg-gray-700 hover:text-white"
              }`}
          >
            <div className="text-xl">{item.icon}</div>
            <div className="text-xs mt-1">{item.name}</div>
          </div>
        ))}
      </div>
    </div>
  );
};

export default Sidebar;
